.\" -*- nroff -*-
.TH E2RATIO 1  "July 97" "E2Compr Utilities"
.SH NAME
e2ratio \- display the compression ratio on a Linux second extended file system
.SH SYNOPSIS
.B e2ratio
[
.B \-abslf
]
[
files ...
]
.SH DESCRIPTION
.B e2ratio
is similar to
.B du
but displays the compression ratio for the given files instead of the
number of blocks used.
.LP
.B e2ratio 
recursively descends into directories.
.LP
The first field is the number of blocks the file
would use if uncompressed.
The second file is the number of blocks the file actually uses (same as
the first field if the file is not compressed).
The third field is the compression ratio, i.e., 
the number of block actually used
expressed as a percentage of the original size.
The fourth field is the name of the file.
.LP
With the
.I -b
option, only the last two fields are displayed.
.SH OPTIONS
.TP
.I -a
Generate an entry for each file.
The default behaviour is to generate an entry only for directories.
.TP
.I -b
Only show the last two fields (i.e. ratio and file name).
.TP
.I -s
Only display the grand total for each of the specified files.
.TP
.I -f
Display the compression factor instead of the compression ratio, i.e., the
original size of the file divided by the actual size.
.TP
.I -l
Generate the usual four-field entries.  (Over-rides `-b'.)
.SH BUGS
The ratio is computed rather than stored in the inode.
This is expensive because it requires to read every cluster head in the file.
.LP
Several files may appear more than once if they are hard links.
The total ratio is probably false in this case, as well as the total number of 
blocks reported.
.SH AUTHOR
.B e2ratio
has been quickly written by Antoine de Maricourt <dumesnil@etca.fr> as part
of the e2compr patch.
It could be improved.
.SH AVAILABILITY
.B e2ratio
is included in the e2compr distribution.
.SH SEE ALSO
.BR chattr (1)
,
.BR lsattr (1)
,
.BR e2compress (1)
