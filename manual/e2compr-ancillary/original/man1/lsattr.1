.\" -*- nroff -*-
.TH LSATTR 1 "December 1998" "E2fsprogs vers 1.12-e2c036"
.SH NAME
lsattr \- list file attributes on a Linux second extended file system
.SH SYNOPSIS
.B lsattr
[
.B \-ARadruv
]
[
files...
]
.SH DESCRIPTION
.B lsattr
lists file attributes on a second extended file system.
This version is able to display compression informations provided by
the e2compr patch, but will also work on unpatched kernels.
.SH OPTIONS
.TP
.I -A
List almost every file in directories, including files that start with `.', but not 
special files `.' and `..'.
.TP
.I -R
Recursively list attributes of directories and their contents.
.TP
.I -a
List all files in directories, including files that start with `.'.
.TP
.I -d
List directories like other files, rather than listing their contents.
.TP
.I -r
Show the compression ratio, i.e. actual disk usage divided by disk
usage if uncompressed.
.TP
.I -r
Show space usage information.  The left column represents how much
space would be taken up by the file if it weren't compressed.  The
right column shows how much space is actually taken up by the file.
.LP
The units for both columns are kilobytes.
.TP
.I -v
List the file version.
.LP
.B lsattr
displays three to seven fields that represent the file attributes,
followed by the file name.
.LP
The first field is a set of seven attributes that are represented
by a simple letter when they are set, or by `-' when they are cleared.
Attributes are displayed in the following order: `sucSiad' (see
.B chattr
(1) for their meaning).
.LP
The `c' attribute may be replaced by `E' which means
that there was a compression error when
accessing this file earlier.
See section `compression error' in the e2compr user manual.
.LP
The `c' attribute may alternatively be replaced by `*', which
indicates that transparent de/compression is disabled for this file:
what you read or write is what's stored on disk, not the uncompressed
version of that.  Only one process can access a file for which
compression is disabled.  This state is mainly useful for files with a
compression error.
.LP
The second field is displayed only if the `c' attribute is set or if
the file contains one or more compressed clusters.
It represents the cluster size for this file (4, 8, 16 or 32 blocks).
If the `c' attribute is cleared, this field is `-'.
It may occur that the field shows a cluster size while the `c' attribute
is cleared. 
In this case, the file still holds some compressed clusters that have
not been uncompressed because space were missing on the disk when the
`c' attribute has been cleared.
Such clusters will be uncompressed the next time the file is accessed,
provided there is space on the disk.
.LP
The third field is displayed only if the `c' attribute is set.
This is the name
of the compression algorithm used for this file.
If the  `c' attribute is cleared, this field is `-'.
The displayed algorithm will be used when compressing new data
written to the file.
Already compressed data may have been compressed using another
algorithm.
.LP
If the 
.B -v
option is used, there is a fourth field that is the file version's
number.
It is displayed first, before the three others fields.
.SH EXAMPLES
.LP
.SH AUTHOR
The original version of
.B lsattr
was written by Remy Card <card@masi.ibp.fr>, the developer and maintainer
of the ext2 fs.
The current version has been modified by the e2compression folks to display
information related to file compression.
.SH BUGS AND LIMITATIONS
In e2compr versions 0.3.6 and previous, ,the calculation of the amount
of space that would be taken by the uncompressed file` is slightly
wrong (usually by no more than 1%).  This is believed to be fixed in
the as-yet-unfinished version 0.4.0.
.LP
.B lsattr
and 
.B e2ratio
ought to display in units of 512-byte blocks if the environment
variable POSIXLY_CORRECT is set (as
.B du
does).
.LP
Error messages are somewhat confusing.  E.g. `not a typewriter' means
`this file is not on an ext2 fs' or `this kernel does not have
e2compression enabled'.
.LP
Note that older versions of lsattr for e2compr had the `-a' and
`-A' flags the wrong way around.  If shell scripts depend on the old
behaviour, they will need changing.
.SH AVAILABILITY
This version of 
.B lsattr
is part of the e2compr package,
found at <http://debs.fuller.edu/e2compr/software-03x.html>.
.SH SEE ALSO
.BR chattr (1)
,
.BR e2ratio (1)
,
.BR e2compress (1)
