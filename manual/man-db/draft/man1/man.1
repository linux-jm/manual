'\" t
.\" ** The above line should force tbl to be a preprocessor **
.\" Man page for man
.\"
.\" Copyright (C), 1994, 1995, Graeme W. Wilford. (Wilf.)
.\"
.\" You may distribute under the terms of the GNU General Public
.\" License as specified in the file COPYING that comes with the
.\" man_db distribution.
.\"
.\" Sat Oct 29 13:09:31 GMT 1994  Wilf. (G.Wilford@ee.surrey.ac.uk) 
.\" 
.\" Japanese Version Copyright (c) 1998 NAKANO Takeo all rights reserved.
.\" Translated Fri 25 Sep 1998 by NAKANO Takeo <nakano@apm.seikei.ac.jp>
.\" Modified Sun 6 Dec 1998 by NAKANO Takeo <nakano@apm.seikei.ac.jp>
.\"
.\"WORD:	hierarchy	階層
.\"WORD:	(short) description	要約(文)
.\"
.TH man 1 "July 12th, 1995" "2.3.10" "Manual pager utils"
.SH 名前
man \- オンラインリファレンスマニュアルのインターフェース
.SH 書式 aa
.\"O The general command line
.B man 
.RB [\| \-c \||\| \-w \||\| \-tZT 
.IR device \|]
.RB [\| \-adhu7V \|]
.RB [\| \-m
.IR system \|[\|,.\|.\|.\|]\|]
.RB [\| \-L 
.IR locale \|]
.RB [\| \-p 
.IR string \|] 
.RB [\| \-M 
.IR path \|] 
.RB [\| \-P 
.IR pager \|] 
.RB [\| \-r
.IR prompt \|] 
.RB [\| \-S
.IR list \|] 
.RB [\| \-e
.IR extension \|] 
.RI [\|[\| section \|]
.IR page \ .\|.\|.\|]\ .\|.\|.
.\"O The --local command line
.br
.B man 
.B \-l
.RB [\| \-7 \|]
.RB [\| \-tZT
.IR device \|]
.RB [\| \-p
.IR string \|]
.RB [\| \-P
.IR pager \|]
.RB [\| \-r
.IR prompt \|]
.I file
\&.\|.\|.
.\"O The apropos command line
.br
.B man 
.B \-k
.RB [\| \-M
.IR path \|]
.I keyword
\&.\|.\|.
.\"O The whatis command line
.br
.B man 
.B \-f
.RB [\| \-M
.IR path \|]
.I page
\&.\|.\|.
.SH 説明
.B man
はシステムのマニュアルページャーである。
.B man
に与えられる引き数
.I page
は、通常はプログラムやユーティリティ、関数などの名前である。
これらの引き数それぞれに対応する
.I マニュアルページ
が検索・表示される。
.I section
が指定されると、
.B man
はマニュアルを検索する対象をそのセクションに限定する。
デフォルトの動作では、すべてのセクションを既定の順序で検索し、
最初に見つかった
.I page
だけを表示する。複数のセクションに同じ名前の
.I page
が存在する場合でも、表示されるのは最初の一つだけとなる。

以下の表にマニュアルの
.I section
番号を示す。それぞれの
.I section
に、どのようなページが含まれるかもあわせて示す。

.TS
tab (@);
l l.
1@実行プログラムまたはシェルのコマンド
2@システムコール (カーネルが提供する関数)
3@ライブラリコール (システムライブラリに含まれる関数)
4@特殊なファイル (通常 \fI/dev\fR に置かれているもの)
5@ファイルのフォーマットと約束事。例えば \fI/etc/passwd\fR など
6@ゲーム
7@マクロのパッケージとその約束事。例えば \fBman\fR(7), \fBgroff\fR(7) など
8@システム管理用のコマンド
9@カーネルルーチン [\|非標準\|]
n@新しいもの [\|最近では使われない\|]
l@システムローカルなもの [\|最近では使われない\|]
p@パブリックなもの [\|最近では使われない\|]
o@古いもの [\|最近では使われない\|]
.TE

それぞれのマニュアルページは、いくつかの章からなる。

それぞれには以下のような名前がついている。
.BR "名前 (NAME)" ,
.BR "書式 (SYNOPSIS)" ,
.BR "説明 (DESCRIPTION)" ,
.BR "オプション (OPTION)" ,
.BR "ファイル (FILES) ,
.BR "関連項目 (SEE ALSO)" ,
.BR "バグ (BUGS)" ,
.BR "著者 (AUTHOR)"

.B 書式
の章には以下のような形式が用いられている。
他の章でも同様のルールを用いると良い。

.TS
tab (@);
 l l.
\fBボールド体 (bold)\fR@そのままタイプする。
\fIイタリック体 (italic)\fR@適切な引き数に置き代える。
[\|\fB\-abc\fR\|]@[ ] 内部の引き数はすべて省略できる。
\fB\-a\|\fR|\|\fB\-b\fR@ | で区切られたオプションは同時には指定できない。
\fIargument\fB .\|.\|.@\fIargument\fR は繰り返し指定できる。
[\|\fIexpression\fR\|]\fB .\|.\|.@\fR [ ] 内部の \fIexpression\fR\ 全体を繰り返し指定できる。
.TE

コマンドや関数は、これらのパターンの組みあわせによって、起動可能な書式の
すべてを網羅しているべきである。複数ある起動方法のうちの排他的なものは、
場合によっては別々に示した方が良いかもしれない (このページの
.B 書式
セクションではそのようにしている)。
.SH 例
.TP \w'man\ 'u
.BI man \ ls 
(プログラム)
.I ls
に関するページを表示する。
.TP
.BI man\ \-a \ intro
マニュアルにある
.I intro
のページをすべて、順番に表示する。次のページに移るときに、以降の表示
を中止したり、見たくないものをスキップすることもできる。
.TP
\fBman \-t \fIalias \fR|\fI lpr \-Pps
.I alias
で参照されるページ (通常はシェルのマニュアルページだろう) を、
.B troff
または
.B nroff
のデフォルト出力フォーマットに整形して、
.I ps
という名前のプリンターにパイプしている。
.B groff
のデフォルト出力は通常 PostScript である。
.B man \-\-help
とすれば、
.B \-t
オプションによって起動される整形コマンドに関する情報が得られる。
.TP
.BI man\ \-l\ \-T dvi\ ./foo.1x.gz \ >\  ./foo.1x.dvi
このコマンドは nroff ソースのマニュアルページ
.I ./foo.1x.gz
を展開して、
.B デバイス非依存 (dvi)
なファイルにフォーマットする。
.B \-T
オプションによって、フォーマットの結果は
.B stdout
にページャーなしで出力されているので、この場合リダイレクションが
必要である。この出力結果は
.B xdvi
のようなプログラムで見ることができる。また
.B dvips
のようなプログラムを用いれば、さらに PostScript に変換することも
できる。
.TP
.BI man\ \-k \ printf
キーワード
.I printf
で、マニュアルページの要約文とページ名を検索し、
マッチした結果を表示する。
.TP
.BI man\ \-f \ smail
.I smail
と言う名前のマニュアルページを探し、
見つかったものそれぞれに対して要約文を表示する。
.SH 概要
.B man
には多くのオプションが存在し、ユーザーに可能な限りの柔軟性を提供してい
る。検索パスやセクションの順番、出力プロセッサ、他の振る舞いや動作など
が、以下に詳細に述べられている。

また
.B man
の動作に影響を及ぼす環境変数も数多く存在する。
「万能」な環境変数である
.RB $ MANOPT
を用いれば、コマンドラインと同じ形式の文字列を設定することもできる。
ただしオプションの引き数の一部として用いられるスペースは、
すべてエスケープする (バックスラッシュを前置する) 必要がある。
.B man
は、
.RB $ MANOPT
をコマンドラインの前に解釈する。引き数を必要とするオプションに関して
は、同じものがコマンドラインにも存在すれば、コマンドラインの方が優先さ
れる。
.RB $ MANOPT
に設定されたオプションをすべてリセットするには、コマンドラインオプション
の最初に
.B \-D
を指定すればよい。
これによって
.B man
は一時的に
.RB $MANOPT
の内容を「忘れる」が、環境変数の内容自体は有効なまま残る。
.B man_db
パッケージのユーティリティ群の動作は、
.B index
データベースキャッシュによって、非常に効率化されている。
これらのキャッシュには、各マニュアルページのファイルシステムでの位置と
そのページの
.I whatis
(そのページの要約) が保持されている。
.B man
の仕事の一つは、このキャッシュの整合性を保証することである。
これまで用いられていた
.I whatis
テキストデータベースでは、手動でソフトウェアを動作させて更新作業を行う
必要があったわけだが、この新しいデータベースキャッシュによって、これは
必要なくなった。また、毎回ファイルシステムを検索して必要なマニュアルペー
ジを探す必要がなくなったので、
.B man
の動作が速くなった。

.B mandb
によって作成された
.B index
データベースが、特定のマニュアルページ階層 (hierarchy) に存在しない
場合でも、
.B man
は要求されたマニュアルページの検索を続ける。ただしその階層の中では
ファイル名の展開 (glob) が必要となる。
.\"O `User' manual page hierarchies will have 
.\"O .B index
.\"O caches created `on the fly'.
.B whatis
や
.B apropos
が
.B index
を見つけられない場合、それらは従来形式の
.I whatis
データベースを代わりに用いて、そこから情報を引きだそうとする。
`user' マニュアルページ階層には、「その場」で生成された
.B index
キャッシュが含まれることになるだろう。

これらのユーティリティでは、圧縮された nroff ソースファイルも扱うこと
ができる。デフォルトでは、拡張子が
.BR .Z ", " .z ", " .gz
のファイルが利用できる。
またデフォルトでは、生成された cat ページはすべて
.B gzip
を用いて圧縮される。
.I /usr/man
や
.I /usr/X11R6/man
のような、 `global' なマニュアルページ階層では、
それぞれ対応する cat ページの階層が存在するであろう。
従来は、 cat ページは man ページと同じ階層の下に置かれていた。
しかし
.B "Linux File System Standard (FSSTND)"
に記述されているような理由から、 cat ページは他の場所に置く方が良い
かもしれない。こうしたい場合の方法については、
.BR manpath (5)
を読んで欲しい。理由に関しては
.B FSSTND
文書を参照のこと。

このパッケージでは、国際化をサポートしている。
.I locale
の機能を用いることによって、ネイティブな言語のマニュアルページにアクセ
スすることができる (もちろんシステムに存在していれば、であるが)。
この機能を有効にするには、
.RB $ LC_MESSAGES ,
.RB $ LANG
のいずれかか、他の (システム依存の) 環境変数を、使用している
言語のロケールに設定する必要がある。通常言語ロケールは
.B POSIX 1003.1
に基づいたフォーマットで指定する:

.\"O
.\"O Need a \c to make sure we don't get a space where we don't want one
.\"O
.RI < language >[\|\c
.B _\c 
.RI < territory >\|[\|\c
.B .\c
.RI < character-set >\|[\|\c
.B ,\c
.RI < version >\|]\|]\|]

要求したページに対して、使用している
.I locale
のものが存在すれば、そのページが標準のページ (通常はアメリカ英語) の
代わりに表示される。

このパッケージでは、国際化されたメッセージカタログも用いることができ、
上記と同様の方法で有効にできる (もちろんカタログが存在すれば、だが)。
このパッケージに、あなたのネイティブな言語に対応したマニュアルページ
やメッセージカタログがなく、これを追加したいと思う人は、著者に連絡して
欲しい。このような努力をまとめたいと思っている。

このマニュアルページャーで用いることのできる、その他の機能や拡張については、
このパッケージに付属しているドキュメントを読んで欲しい。
.SH デフォルト
.B man
は
.I index
データベースキャッシュを検索して、要求されたマニュアルページを見つけよ
うとする。これに失敗すると、キャッシュの整合性のチェックが行われ、デー
タベースがファイルシステムと正しく対応していることを確認する。
最初にキャッシュを生成したあとは、通常
.B mandb
を実行する必要はない (ただしキャッシュが壊れた場合は別である)。

マニュアルページの位置が決定すると、これに対してすでに整形済みの `cat' 
ファイルが存在するかどうか、これが nroff ファイルよりも新しいかどうか
がチェックされる。両方とも真である場合は、この整形済みファイルが (通常
は) 伸長されてからページャーで表示される。ページャーは色々な方法で指定
できる。何も指定しなければデフォルトのものが用いられる (詳細はオプション
.B \-P
の部分を参照のこと)。
cat がない場合、あるいは nroff ファイルよりも古い場合は、 nroff がいろ
いろなフィルタプログラムで整形されてから、その場で表示される。

cat ファイルが作成できる (対応する cat ディレクトリが存在していて、書
き込み権限がある場合) には、
.B man
はバックグラウンドで cat ファイルを圧縮して保存する。

フィルタはいろいろな方法で指定できる。まず、コマンドラインオプション
.B \-p
または環境変数
.RB $ MANROFFSEQ
による指定ができる。
.B \-p
オプションも環境変数も指定されていない場合は、nroff ファイルの先頭行がプリ
プロセッサ文字列 (preprocessor string) として解釈される。プリプロセッ
サ文字列として有効なものであるためには、先頭行は以下のようなものでなけ
ればならない。

.B '\e" 
.RB < string >  

ここで
.B string
は、以下の
.B \-p
オプションの部分で記述されている文字の任意の組み合わせである。

上記のいずれの手法も用いられず、フィルタの情報が与えられなかった場合は、
デフォルトのセットが用いられる。

整形プロセスのパイプラインは、フィルタ群と基本整形プログラム
.RB ( nroff
または
.RB [ tg ] roff
+ オプション
.B \-t)
によって構成され、これが実行される。
あるいは、実行可能なプログラム
.I mandb_nfmt
(または
.I mandb_tfmt
と
.BR \-t オプション)
が man 階層ツリーのルートにある場合は、これが代わりに実行される。
このプログラムはマニュアルのソースファイルとプリプロセッサ文字列とを
引き数に取る。省略可能であるが
.B \-T
によるデバイス指定を行うこともできる。
.\"O ********************************************************************
.SH オプション
引き数を取らないオプションは、コマンドラインでも
.RB $ MANOPT
環境変数ででも、重ねて指定してかまわない。
引き数をとるオプションが重なった場合は、
後から指定されたものが優先される。
.TP
.B \-l, \-\-local-file
`local' モードを有効にする。システムのマニュアルを
検索する代わりに、ローカルなマ ニュアルファイルを整形して表示する。
マニュアルページの引き数は、正しいフォーマットを持った
nroff のソースファイルであるとみなされる。
.\"O Compressed nroff source files with a supported compression.
.\"O extension will be decompressed by man prior to being displaying via the
.\"O usual filters. 
nroff ソースが圧縮されている場合は、圧縮を示す拡張子が
.B man
システムによってサポー トされていれば、展開されてから処理・表示される。
cat ファイルは生成されない。 `\-' が引き数に指定された場合は、
標準入力から入力が与えられるとみなされる。
.TP
.BI \-L\  locale ,\ \-\-locale= locale
.B man
は通常、カレント・ロケールを C 関数
.BR setlocale (3)
を呼ぶことによって決定しようとする。この関数の動作は、例えば
.RB $ LC_MESSAGES
や
.RB $ LANG
などのような、様々な環境変数によって影響される。
この値を一時的に上書きするには、このオプションを使って
.B man
に直接
.I locale
文字列を渡せば良い。
このオプションが効力を持つのは、実際のページの検索が始まってからである
ことに注意すること。ヘルプメッセージなどの出力は、起動前に定まっていた
ロケールで出力される。
.TP
.B \-D, \-\-default
このオプションは、通常先頭に指定して、
.B man
のふるまいをデフォルトにリセットする。このオプションの目的は、
.RB $ MANOPT
で指定されているかもしれないオプションをリセットすることである。
この
.B \-D
以降に指定されたオプションは、通常通りの効果を持つ。
.TP
.BI \-M\  path ,\ \-\-manpath= path
通常の代わりに用いる manpath を指定する。デフォルトでは、
.B man
は検索パスの決定に
.B manpath
由来のコードを用いている。このオプションは、
.RB $ MANPATH
環境変数を上書きする。またこのオプションを指定すると、
.B \-m
オプションは無視される。
.TP
.BI \-P\  pager ,\ \-\-pager= pager
出力に用いるページャーを指定する。デフォルトでは、
.B man
は
.BR "exec /usr/bin/pager \-s"
を用いる。
このオプションは
.RB $ PAGER
環境変数を上書きする。また、このオプションは
.B \-f
や
.B \-k
と同時に用いることはできない。
.TP
.BI \-r\  prompt ,\ \-\-prompt= prompt
最新版の
.B less
がページャーに用いられている場合には、
.B man
は
.B less
のプロンプトやオプションを設定しようとする。
デフォルトは以下のようなものである。

.B \ Manual page\c
.IB \ name ( sec )\c 
.BI \ line \ x

ここで
.I name
はマニュアルページの名前、
.I sec
はセクション、
.I x
は現在の行番号である。
.\"O The default options are
.\"O .BR \-six8 .
.\"O The actual default will depend on your chosen 
.\"O .BR locale .  
デフォルトのオプションは
.B \-six8
である。これは環境変数
.RB $ LESS
を通して設定される。実際のデフォルトは
.B locale
の選択に依存する。

.\"O You may need to do this if your
.\"O version of 
.\"O .B less
.\"O rejects the default options or if you prefer a different prompt.
.B \-r
を文字列とともに指定すると、デフォルトを上書きできる。
使用している
.B less
がデフォルトのオプションを受け付けなかったり、
プロンプトを変更したい場合に、このオプションを用いる必要があるだろう。
文字列に
.B $MAN_PN
というテキストを入れると、現在のマニュアル名と、セクションを
`(' と `)' で括ったものとに展開される。
デフォルトの出力となるような文字列は、以下のように表現できる。

.B \e\ Manual\e\ page\e\ \e$MAN_PN\e\ ?ltline\e\ %lt?L/%L.:
.br
.B byte\e\ %bB?s/%s..?\e\ (END):?pB\ %pB\e\e%..

ここで二行に分割されているのは、単に可読性のためである。これらの意味に
関しては
.BR less (1)
のマニュアルページを見ること。このプロンプト文字列は、まずシェルによって
解釈される。
プロンプト中に存在するダブルクォート、バッククォート、バックスラッシュ
は、すべてバックスラッシュを前置してエスケープしなければならない。プロンプ
ト文字列はエスケープされた $ で終わり、これ以降は less に与える追加オ
プションになる。デフォルトでは、
.B man
は
.B \-ix8
をオプションとして指定する。
.TP
.B \-7, \-\-ascii
純粋な
.IR ascii (7)
コードで記述されたマニュアルページを 7 ビット端末 (や端末エミュレータ)
で読む場合、
.B "GNU nroff"
の
.IR latin1 (7)
デバイス表示を用いると、文字によっては正しく表示されない可能性がある。
このオプションを用いると、純粋な
.I ascii
のマニュアルページを、
.I latin1
デバイスでも
.I ascii
で表示することができるようになる。
ただしこれは
.I latin1
テキストを変換するわけではない。以下の表は、行われる変換の様子を
示すものである。

.TS
tab (@);
l c c c.
Description@Octal@latin1@ascii
_
continuation hyphen@255@\[char173]@-
bullet (middle dot)@267@\(bu@o
acute accent@264@\(aa@'
multiplication sign@327@\(mu@x
.\"
.\" 連続ハイフン@255@\[char173]@-
.\" 中点 (bullet)@267@\(bu@o
.\" アキュートアクセント@264@\(aa@'
.\" 積符号@326@\(mu@x
.TE

.I latin1
カラムの表示が正しい場合は、あなたが現在使っている端末は
.I latin1
文字向けに設定されているので、このオプションは必要ない。
.I latin1
と
.I ascii
カラムが同一である場合は、あなたは現在このページをこのオプションで
見ているか、あるいは
.B man
がこのページの整形に
.I latin1
デバイスの指定を用いていないことになる。
.I latin1
カラムが空であるか、変な表示になっている場合は、マニュアルページを見る
場合にはこのオプションを指定する必要がある。

このオプションは
.BR \-t ", " \-T ", " \-Z
オプションを用いている場合は無視される。また
.B GNU
以外の
.B nroff
を用いている場合も、おそらく指定する意味はない。
.TP
.BI \-S\  list ,\ \-\-sections= list
引き数
.I list
には、検索対象とするセクションをコロン区切りで指定する。検索は
指定した順序でなされる。このオプションは
.RB $ MANSECT
環境変数を上書きする。
.TP
.B \-a, \-\-all
デフォルトでは
.B man
は検索で見つかったページのうち、もっとも適切と判断したものを一つだけ
表示して終了する。このオプションを用いると、
.B man
は検索でマッチしたすべてのファイルを表示する。
.TP 
.B \-c, \-\-catman
このオプションは一般的な用途のためのものではなく、
.B catman
プログラムを通してのみ用いるべきである。
.TP
.B \-d, \-\-debug
実際にはマニュアルページを表示せず、代わりに大量のデバッグ情報を出力す
る。
.TP
.BI \-e\  sub-extension ,\ \-\-extension= sub-extension
(例えば
.B Tcl
などがそうだが)
システムによっては、大きなマニュアルページのパッケージを、
メインのマニュアルページ階層にインストールするようなものがある。
同じ名前のページ (例えば
.BR exit (3)
など) が二つ存在してしまうことを避けるために、通常
.B Tcl
のページは
.B l
というセクションに割り当てられえいた。
これは望ましくないので、ページを正しいセクションに入れ、それらに特定の
「拡張」を追加することができるようになった。例えばこの場合なら
.BR exit (3tcl)
のようになる。
通常の動作では、
.B man
は
.BR exit (3)
を
.BR exit (3tcl)
より優先して表示する。
この状況を調整し、目的とするページがどのセクションにあるのかをいちいち
記憶しておかなくてもすむように、
.B man
に
.I sub-extension
文字列を与えることができるようになった。この文字列は、ページが
所属するパッケージを指定するものである。上記の例なら、オプションとして
.B \-e\ tcl
を
.B man
に与えれば、検索対象とするページは拡張子が
.B *tcl
のものに限られるようになる。
.TP
.B \-f, \-\-whatis
.B whatis
と等価。指定したマニュアルページが存在すれば、そのページの要約文を表示する。
詳細は
.BR whatis (1)
を見よ。
.TP
.B \-h, \-\-help
ヘルプメッセージを表示して終了する。
.TP
.B \-k, \-\-apropos
.B apropos
と等価。マニュアルページの要約文からキーワードを検索し、
マッチしたものをすべて表示する。
詳細は
.BR apropos (1)
を見よ。
.\"O
.\"O Due to the rather silly limit of 6 args per request in some `native'
.\"O *roff compilers, we have do the following to get the two-line
.\"O hanging tag on one line. .PP to begin a new paragraph, then the 
.\"O tag, then .RS (start relative indent), the text, finally .RE 
.\"O (end relative indent).
.\"O
.PP
.B \-m 
.I system\c 
.RB \|[\|,.\|.\|.\|]\| ,
.BI \-\-systems= system\c 
\|[\|,.\|.\|.\|]
.RS
現在のシステムから、他のオペレーティングシステムについてのマニュアルに
アクセスできる場合には、このオプションをつけるとそれらのマニュアルが
検索される。
NewOS のマニュアルページを検索する場合には、
.B \-m
.B NewOS
のようなオプションを指定する。

.I system
には複数のオペレーティングシステムをコンマで区切った形式で指定できる。
ネイティブのオペレーティングシステムの
.B whatis
記述を検索の対象に含めるためには、システム名
.B man
を引き数文字列に加える。
このオプションは
.RB $ SYSTEM
環境変数を上書きする。
.RE
.TP
.BI \-p\  string ,\ \-\-preprocessor= string
.B nroff
または
.BR troff / groff
の前に実行するプリプロセッサのシーケンスを指定する。
すべてのインストール環境で、以下すべてのプリプロセッサが使えるわけではない。
プリプロセッサと、それを指定する文字のいくつかを以下に挙げる。
.BR eqn " (" e ), 
.BR grap " (" g ),  
.BR pic " (" p ),
.BR tbl " (" t ),
.BR vgrind " (" v ),
.BR refer " (" r )
このオプションは
.RB $ MANROFFSEQ
環境変数を上書きする。
.B zsoelim
は、常に他のプリプロセッサすべてに先立って実行される。
.TP
.B \-u, \-\-update
.B index
データベースキャッシュは、通常「その場」で更新される。つまり、キャッシュ
の整合性を保つために
.B mandb
を定期的に実行する必要はない。もし選択したマニュアルページが
キャッシュに存在しなかった場合や、
.B \-a
オプションが指定された場合には、
.B man
は「ディレクトリレベル」での整合性チェックを行い、キャッシュがファイル
システムを正しく反映したものになっていることを確認する。
マニュアルページの検索に先立ち、「i\-ノードレベル」での整合性チェック
を行いたい場合は、このオプション
.B \-u
を指定する。
.TP
.B \-t, \-\-troff
マニュアルページの整形と、標準出力への表示に
.I "/usr/bin/groff -mandoc" 
を用いる。
.B \-T
や
.B \-Z
オプションの指定時に、このオプションを指定する必要はない。
.PP
.BI \-T\  device ,\ \-\-troff-device 
.RI [\| =device \|]
.RS
このオプションは
.B groff
(あるいは他の
.BR troff )
の出力を、デフォルトから用いるデバイスにあわせて変更するために用いられる。
.B \-t
が暗黙のうちに指定される。例としては (Groff-1.09 でのもの)、
.BR dvi ", " latin1 ", " X75 ", " X100
などが挙げられる。
.RE
.TP
.B \-Z, \-\-ditroff
.B groff
は
.B troff
を実行し、その後適切なポストプロセッサを用いて選択したデバイスに応じた
出力を生成する。もし
.I "/usr/bin/groff -mandoc" 
が
.B groff
であるならば、このオプションは
.B groff
に渡されて、ポストプロセッサの利用を抑制する。
.B \-t
が暗黙のうちに指定される。
.TP
.B \-w, \-\-where, \-\-location
実際にはマニュアルページを表示せず、整形・表示されることになるファイル
の位置を表示する。複数のファイルが表示されることもある。ファイルが cat
ファイルの場合は、ソースである nroff ファイルの位置も表示される。
.TP
.B \-V, \-\-version
バージョンと著者に関する情報を表示する。
.SH 返り値
.TP
.B 0
プログラムの実行に成功した。
.TP
.B 1
使用法、文法、設定ファイルのいずれかにエラーがある。
.TP
.B 2
実行時エラー。
.TP
.B 3
子プロセスの返り値が非ゼロだった。
.TP
.B 16
少なくとも、ページ、ファイル、キーワードのどれか一つが存在しないか、マッ
チしなかった。
.SH 環境変数
.\"O .TP \w'MANROFFSEQ\ \ 'u
.TP
.B MANPATH
.RB $ MANPATH
が設定されている場合には、その値がマニュアルページの検索パスとして用
いられる。
.TP
.B MANROFFSEQ
.RB $ MANROFFSEQ
が設定されている場合には、その値は各々のマニュアルページを処理
するプリプロセッサのセットを定義する。デフォルトのプリプロセッサの
セット
はシステムによって異なる。
.TP
.B MANSECT
.RB $ MANSECT
が設定されている場合には、その値はセクションのリスト (コロン区切り) と
して扱われ、マニュアルのどのセクションを検索するかを決定する際に用いら
れる。セクションは指定された順序で検索される。
.TP
.B PAGER
.RB $ PAGER
が設定されている場合には、その値がマニュアルページを表示するプログラム
の名前として用いられる。デフォルトでは
.B "exec /usr/bin/pager -s"
が用いられる。
.TP 
.B SYSTEM
.RB $ SYSTEM
環境変数が設定されている場合には、
.B \-m "string"
オプションと同じ効果を持つ。 string が
.RB $ SYSTEM
の内容である。
.TP 
.B MANOPT
.RB $ MANOPT
が設定されている場合には、その内容が
.B man
のコマンドラインに先立って解釈される。形式はコマンドラインのものと同じ
である。
.B man
に影響する他のすべての環境変数には、同じ効果を持つコマンドラインオプション
が存在し、したがって
.RB $ MANOPT
に記述することができるので、これらの環境変数はいずれ使用されなくなる
だろう。
オプションの引き数の一部として解釈させたいすべてのスペースは、エスケープ
する必要があることに注意すること。
.TP
.BR LANG , " LC_MESSAGES"
システムと実装に依存するが、
.RB $ LANG
と
.RB $ LC_MESSAGES
のどちらか、あるいは両方は、カレントロケールの指定に用いられる。
.B man
は自分自身のメッセージを、そのロケールで出力する (可能な場合)。
正確な内容は
.BR setlocale (3)
を見よ。
.SH ファイル
.TP
.I /etc/manpath.config
man_db の設定ファイル。
.TP
.I /usr/man
global なマニュアルページの階層。
.TP
.I /usr/man/index.(bt|db|dir|pag)
従来形式の、 global なデータベースキャッシュの
インデックス。
.TP
.I /var/catman/index.(bt|db|dir|pag)
新しい (FSSTND 準拠の)、 global なデータベースキャッシュのインデッ
クス。
.TP
.I /usr/man/mandb_nfmt
ある階層に専用の整形スクリプトを用意する場合の例。
.B nroff
ベースのものになっている。
.TP
.I /usr/man/mandb_tfmt
ある階層に専用の整形スクリプトを用意する場合の例。
.RB [ tg ] roff
を
.B \-t
と共に用いるものになっている。
.SH 関連項目
.BR mandb (8), 
.BR manpath (1),
.BR manpath (5),
.BR apropos (1), 
.BR whatis (1),
.BR catman (8), 
.BR less (1),
.BR nroff (1),
.BR troff (1),
.BR groff (1), 
.BR zsoelim (1), 
.BR setlocale (3),
.BR ascii (7),
.BR latin1 (7),
.B FSSTND
.SH 履歴
1990, 1991 \- オリジナルの著者は John W. Eaton (jwe@che.utexas.edu) で
あった。

Dec 23 1992: Rik Faith (faith@cs.unc.edu) が Willem Kasdorp
(wkasdo@nikhefk.nikef.nl) のバグフィックスを当てた。

April 30th, 1994 \- July 12th 1995:
Wilf. (G.Wilford@ee.surrey.ac.uk) が何人かの人々の助力のもと、このパッ
ケージをメンテナンスしている。
